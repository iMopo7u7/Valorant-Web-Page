<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sorteador Valorant 10 Mans</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap');
        
        * {
            font-family: 'Orbitron', monospace;
        }
        
        .neon-glow {
            box-shadow: 0 0 20px rgba(255, 20, 147, 0.5), 0 0 40px rgba(255, 20, 147, 0.3);
        }
        
        .neon-green {
            box-shadow: 0 0 20px rgba(0, 255, 127, 0.5), 0 0 40px rgba(0, 255, 127, 0.3);
        }
        
        .team-card {
            background: linear-gradient(135deg, rgba(139, 69, 19, 0.1), rgba(75, 0, 130, 0.2));
            border: 2px solid rgba(255, 20, 147, 0.3);
            transition: all 0.3s ease;
        }
        
        .team-card:hover {
            border-color: rgba(255, 20, 147, 0.8);
            transform: translateY(-5px);
        }
        
        .player-animate {
            animation: playerDrop 0.8s ease-out forwards;
        }
        
        @keyframes playerDrop {
            0% {
                opacity: 0;
                transform: translateY(-50px) scale(0.8);
            }
            100% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
        
        .map-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(45deg, #ff1493, #00ff7f);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: black;
            font-size: 12px;
        }
        
        .valorant-bg {
            background: 
                radial-gradient(circle at 20% 80%, rgba(255, 20, 147, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(0, 255, 127, 0.1) 0%, transparent 50%),
                linear-gradient(135deg, #0a0a0a 0%, #1a0a1a 50%, #0a0a0a 100%);
        }
    </style>
</head>
<body class="valorant-bg min-h-screen text-white">
    <div class="container mx-auto px-4 py-8">
        <!-- Header -->
        <div class="text-center mb-12">
            <h1 class="text-6xl font-black text-transparent bg-clip-text bg-gradient-to-r from-pink-500 to-green-400 mb-4">
                VALORANT 10 MANS
            </h1>
            <p class="text-xl text-purple-300">Sorteador de Equipos Competitivo</p>
        </div>

        <!-- Sección Agregar Jugadores -->
        <div class="bg-black/50 backdrop-blur-sm rounded-2xl p-8 mb-8 border border-purple-500/30">
            <h2 class="text-3xl font-bold text-pink-400 mb-6">
                Agregar Jugadores
            </h2>
            
            <div class="flex gap-4 mb-6">
                <input 
                    type="text" 
                    id="playerInput" 
                    placeholder="Nombre del jugador..."
                    class="flex-1 bg-gray-900/80 border-2 border-purple-500/50 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:border-pink-500 focus:outline-none transition-colors"
                    onkeypress="handleEnter(event)"
                >
                <button 
                    onclick="addPlayer()" 
                    class="bg-gradient-to-r from-pink-600 to-purple-600 hover:from-pink-700 hover:to-purple-700 px-8 py-3 rounded-lg font-bold transition-all neon-glow"
                >
                    AGREGAR
                </button>
            </div>
            
            <div class="mb-4">
                <span class="text-green-400 font-bold">Jugadores: <span id="playerCount">0</span></span>
                <span class="text-gray-400 ml-4">(Permitido: 10, 15, 20 o 25)</span>
            </div>
            
            <div id="playersList" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3">
                <!-- Jugadores aparecerán aquí -->
            </div>
        </div>

        <!-- Sección Configuración -->
        <div class="bg-black/50 backdrop-blur-sm rounded-2xl p-8 mb-8 border border-purple-500/30">
            <h2 class="text-3xl font-bold text-green-400 mb-6">
                Configuración de Mapas
            </h2>
            
            <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 mb-8">
                <label class="flex items-center space-x-3 cursor-pointer p-3 rounded-lg bg-gray-900/50 hover:bg-gray-800/50 transition-colors">
                    <input type="checkbox" class="map-checkbox" value="Bind" checked>
                    <div class="map-icon">BI</div>
                    <span>Bind</span>
                </label>
                <label class="flex items-center space-x-3 cursor-pointer p-3 rounded-lg bg-gray-900/50 hover:bg-gray-800/50 transition-colors">
                    <input type="checkbox" class="map-checkbox" value="Haven" checked>
                    <div class="map-icon">HA</div>
                    <span>Haven</span>
                </label>
                <label class="flex items-center space-x-3 cursor-pointer p-3 rounded-lg bg-gray-900/50 hover:bg-gray-800/50 transition-colors">
                    <input type="checkbox" class="map-checkbox" value="Split" checked>
                    <div class="map-icon">SP</div>
                    <span>Split</span>
                </label>
                <label class="flex items-center space-x-3 cursor-pointer p-3 rounded-lg bg-gray-900/50 hover:bg-gray-800/50 transition-colors">
                    <input type="checkbox" class="map-checkbox" value="Ascent" checked>
                    <div class="map-icon">AS</div>
                    <span>Ascent</span>
                </label>
                <label class="flex items-center space-x-3 cursor-pointer p-3 rounded-lg bg-gray-900/50 hover:bg-gray-800/50 transition-colors">
                    <input type="checkbox" class="map-checkbox" value="Icebox" checked>
                    <div class="map-icon">IC</div>
                    <span>Icebox</span>
                </label>
                <label class="flex items-center space-x-3 cursor-pointer p-3 rounded-lg bg-gray-900/50 hover:bg-gray-800/50 transition-colors">
                    <input type="checkbox" class="map-checkbox" value="Breeze" checked>
                    <div class="map-icon">BR</div>
                    <span>Breeze</span>
                </label>
                <label class="flex items-center space-x-3 cursor-pointer p-3 rounded-lg bg-gray-900/50 hover:bg-gray-800/50 transition-colors">
                    <input type="checkbox" class="map-checkbox" value="Fracture" checked>
                    <div class="map-icon">FR</div>
                    <span>Fracture</span>
                </label>
                <label class="flex items-center space-x-3 cursor-pointer p-3 rounded-lg bg-gray-900/50 hover:bg-gray-800/50 transition-colors">
                    <input type="checkbox" class="map-checkbox" value="Pearl" checked>
                    <div class="map-icon">PE</div>
                    <span>Pearl</span>
                </label>
                <label class="flex items-center space-x-3 cursor-pointer p-3 rounded-lg bg-gray-900/50 hover:bg-gray-800/50 transition-colors">
                    <input type="checkbox" class="map-checkbox" value="Lotus" checked>
                    <div class="map-icon">LO</div>
                    <span>Lotus</span>
                </label>
                <label class="flex items-center space-x-3 cursor-pointer p-3 rounded-lg bg-gray-900/50 hover:bg-gray-800/50 transition-colors">
                    <input type="checkbox" class="map-checkbox" value="Sunset" checked>
                    <div class="map-icon">SU</div>
                    <span>Sunset</span>
                </label>
                <label class="flex items-center space-x-3 cursor-pointer p-3 rounded-lg bg-gray-900/50 hover:bg-gray-800/50 transition-colors">
                    <input type="checkbox" class="map-checkbox" value="Abyss" checked>
                    <div class="map-icon">AB</div>
                    <span>Abyss</span>
                </label>
                <label class="flex items-center space-x-3 cursor-pointer p-3 rounded-lg bg-gray-900/50 hover:bg-gray-800/50 transition-colors">
                    <input type="checkbox" class="map-checkbox" value="Corrode" checked>
                    <div class="map-icon">CO</div>
                    <span>Corrode</span>
                </label>
            </div>
            
            <div class="text-center">
                <button 
                    onclick="generateDraw()" 
                    id="generateBtn"
                    class="bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600 px-12 py-4 rounded-xl font-black text-xl transition-all neon-green transform hover:scale-105"
                >
                    GENERAR SORTEO
                </button>
            </div>
        </div>

        <!-- Resultados -->
        <div id="resultsSection" class="hidden">
            <div class="bg-black/50 backdrop-blur-sm rounded-2xl p-8 border border-purple-500/30">
                <h2 class="text-3xl font-bold text-yellow-400 mb-8 text-center">
                    RESULTADOS DEL SORTEO
                </h2>
                
                <div id="resultsContent">
                    <!-- Los resultados aparecerán aquí -->
                </div>
                
                <div class="text-center mt-8">
                    <button 
                        onclick="copyResults()" 
                        class="bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-8 py-3 rounded-lg font-bold transition-all neon-glow"
                    >
                        COPIAR PARA DISCORD
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let players = [];
        let currentResults = '';

        function handleEnter(event) {
            if (event.key === 'Enter') {
                addPlayer();
            }
        }

        function addPlayer() {
            const input = document.getElementById('playerInput');
            const playerName = input.value.trim();
            
            if (!playerName) return;
            
            if (players.includes(playerName)) {
                alert('Este jugador ya está en la lista');
                return;
            }
            
            if (players.length >= 25) {
                alert('Máximo 25 jugadores permitidos');
                return;
            }
            
            players.push(playerName);
            input.value = '';
            updatePlayersList();
        }

        function removePlayer(playerName) {
            players = players.filter(p => p !== playerName);
            updatePlayersList();
        }

        function updatePlayersList() {
            const playersList = document.getElementById('playersList');
            const playerCount = document.getElementById('playerCount');
            
            playerCount.textContent = players.length;
            
            playersList.innerHTML = players.map(player => `
                <div class="bg-gradient-to-r from-purple-900/50 to-pink-900/50 rounded-lg p-3 flex items-center justify-between border border-purple-500/30">
                    <span class="font-bold">${player}</span>
                    <button onclick="removePlayer('${player}')" class="text-red-400 hover:text-red-300 ml-2">✕</button>
                </div>
            `).join('');
        }

        function getSelectedMaps() {
            const checkboxes = document.querySelectorAll('.map-checkbox:checked');
            return Array.from(checkboxes).map(cb => cb.value);
        }

        function shuffleArray(array) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }

        function generateDraw() {
            if (![10, 15, 20, 25].includes(players.length)) {
                alert('Necesitas exactamente 10, 15, 20 o 25 jugadores para generar el sorteo');
                return;
            }
            
            const selectedMaps = getSelectedMaps();
            if (selectedMaps.length === 0) {
                alert('Selecciona al menos un mapa');
                return;
            }
            
            const shuffledPlayers = shuffleArray(players);
            const resultsSection = document.getElementById('resultsSection');
            const resultsContent = document.getElementById('resultsContent');
            
            resultsSection.classList.remove('hidden');
            
            if (players.length === 10) {
                generate10ManResults(shuffledPlayers, selectedMaps, resultsContent);
            } else {
                generateMultipleGamesResults(shuffledPlayers, selectedMaps, resultsContent);
            }
        }

        function generate10ManResults(shuffledPlayers, selectedMaps, container) {
            const teamA = shuffledPlayers.slice(0, 5);
            const teamB = shuffledPlayers.slice(5, 10);
            const selectedMap = selectedMaps[Math.floor(Math.random() * selectedMaps.length)];
            const attackingTeam = Math.random() < 0.5 ? 'A' : 'B';
            
            container.innerHTML = `
                <div class="text-center mb-8">
                    <h3 class="text-2xl font-bold text-green-400 mb-4">MAPA: ${selectedMap}</h3>
                </div>
                
                <div class="grid md:grid-cols-2 gap-8">
                    <div class="team-card rounded-xl p-6 ${attackingTeam === 'A' ? 'neon-glow' : ''}">
                        <h3 class="text-2xl font-bold text-pink-400 mb-4 text-center">
                            TEAM A (${attackingTeam === 'A' ? 'ATAQUE' : 'DEFENSA'})
                        </h3>
                        <div class="space-y-3">
                            ${teamA.map((player, index) => `
                                <div class="player-animate bg-gray-800/50 rounded-lg p-3 text-center font-bold" style="animation-delay: ${index * 0.2}s">
                                    ${player}
                                </div>
                            `).join('')}
                        </div>
                    </div>
                    
                    <div class="team-card rounded-xl p-6 ${attackingTeam === 'B' ? 'neon-glow' : ''}">
                        <h3 class="text-2xl font-bold text-green-400 mb-4 text-center">
                            TEAM B (${attackingTeam === 'B' ? 'ATAQUE' : 'DEFENSA'})
                        </h3>
                        <div class="space-y-3">
                            ${teamB.map((player, index) => `
                                <div class="player-animate bg-gray-800/50 rounded-lg p-3 text-center font-bold" style="animation-delay: ${(index + 5) * 0.2}s">
                                    ${player}
                                </div>
                            `).join('')}
                        </div>
                    </div>
                </div>
            `;
            
            currentResults = `**VALORANT 10 MANS - SORTEO**\n\n**PARTIDA 1** | ${selectedMap}\nTeam A (${attackingTeam === 'A' ? 'ATK' : 'DEF'}): ${teamA.join(', ')}\nTeam B (${attackingTeam === 'B' ? 'ATK' : 'DEF'}): ${teamB.join(', ')}`;
        }

        function generateMultipleGamesResults(shuffledPlayers, selectedMaps, container) {
            const gamesCount = Math.floor(players.length / 10);
            const remainingPlayers = players.length % 10;
            const games = [];
            
            // Generar partidas principales
            for (let i = 0; i < gamesCount; i++) {
                const gameStart = i * 10;
                const teamA = shuffledPlayers.slice(gameStart, gameStart + 5);
                const teamB = shuffledPlayers.slice(gameStart + 5, gameStart + 10);
                const selectedMap = selectedMaps[Math.floor(Math.random() * selectedMaps.length)];
                const attackingTeam = Math.random() < 0.5 ? 'A' : 'B';
                
                games.push({ teamA, teamB, map: selectedMap, attackingTeam, gameNumber: i + 1 });
            }
            
            // Manejar jugadores restantes
            let waitingTeam = null;
            if (remainingPlayers === 5) {
                waitingTeam = {
                    players: shuffledPlayers.slice(gamesCount * 10),
                    map: selectedMaps[Math.floor(Math.random() * selectedMaps.length)],
                    side: Math.random() < 0.5 ? 'ATAQUE' : 'DEFENSA'
                };
            }
            
            let gamesHtml = games.map(game => `
                <div class="border-2 border-purple-500/30 rounded-xl p-6">
                    <h3 class="text-2xl font-bold text-yellow-400 mb-4 text-center">
                        PARTIDA ${game.gameNumber} - ${game.map}
                    </h3>
                    
                    <div class="grid md:grid-cols-2 gap-6">
                        <div class="team-card rounded-lg p-4 ${game.attackingTeam === 'A' ? 'neon-glow' : ''}">
                            <h4 class="text-lg font-bold text-pink-400 mb-3 text-center">
                                TEAM A (${game.attackingTeam === 'A' ? 'ATAQUE' : 'DEFENSA'})
                            </h4>
                            <div class="space-y-2">
                                ${game.teamA.map(player => `
                                    <div class="bg-gray-800/50 rounded p-2 text-center font-bold">${player}</div>
                                `).join('')}
                            </div>
                        </div>
                        
                        <div class="team-card rounded-lg p-4 ${game.attackingTeam === 'B' ? 'neon-glow' : ''}">
                            <h4 class="text-lg font-bold text-green-400 mb-3 text-center">
                                TEAM B (${game.attackingTeam === 'B' ? 'ATAQUE' : 'DEFENSA'})
                            </h4>
                            <div class="space-y-2">
                                ${game.teamB.map(player => `
                                    <div class="bg-gray-800/50 rounded p-2 text-center font-bold">${player}</div>
                                `).join('')}
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');
            
            if (waitingTeam) {
                gamesHtml += `
                    <div class="border-2 border-orange-500/50 rounded-xl p-6 bg-orange-900/20">
                        <h3 class="text-2xl font-bold text-orange-400 mb-4 text-center">
                            EQUIPO EN ESPERA - ${waitingTeam.map}
                        </h3>
                        <div class="text-center mb-4">
                            <span class="text-orange-300 font-bold">Jugará contra el ganador de la Partida 1</span>
                        </div>
                        <div class="team-card rounded-lg p-4 max-w-md mx-auto">
                            <h4 class="text-lg font-bold text-orange-400 mb-3 text-center">
                                TEAM WAITING (${waitingTeam.side})
                            </h4>
                            <div class="space-y-2">
                                ${waitingTeam.players.map(player => `
                                    <div class="bg-gray-800/50 rounded p-2 text-center font-bold">${player}</div>
                                `).join('')}
                            </div>
                        </div>
                    </div>
                `;
            }
            
            container.innerHTML = `<div class="space-y-8">${gamesHtml}</div>`;
            
            // Generar mensaje para Discord más limpio
            let discordMessage = `**VALORANT ${players.length} MANS - SORTEO**\n\n`;
            
            games.forEach(game => {
                discordMessage += `**PARTIDA ${game.gameNumber}** | ${game.map}\n`;
                discordMessage += `Team A (${game.attackingTeam === 'A' ? 'ATK' : 'DEF'}): ${game.teamA.join(', ')}\n`;
                discordMessage += `Team B (${game.attackingTeam === 'B' ? 'ATK' : 'DEF'}): ${game.teamB.join(', ')}\n\n`;
            });
            
            if (waitingTeam) {
                discordMessage += `**EQUIPO EN ESPERA** | ${waitingTeam.map}\n`;
                discordMessage += `Team Waiting (${waitingTeam.side}): ${waitingTeam.players.join(', ')}\n`;
                discordMessage += `*Jugará contra el ganador de la Partida 1*\n\n`;
            }
            
            discordMessage = discordMessage.trim();
            
            currentResults = discordMessage;
        }

        function copyResults() {
            navigator.clipboard.writeText(currentResults).then(() => {
                alert('¡Resultados copiados al portapapeles!');
            });
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'97051fd0e638ac55',t:'MTc1NTM5MTI3MC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>

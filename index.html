<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sorteador Valorant 10 Mans</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap');
        
        * {
            font-family: 'Orbitron', monospace;
        }
        
        .neon-glow {
            box-shadow: 0 0 20px rgba(255, 20, 147, 0.5), 0 0 40px rgba(255, 20, 147, 0.3);
        }
        
        .neon-green {
            box-shadow: 0 0 20px rgba(0, 255, 127, 0.5), 0 0 40px rgba(0, 255, 127, 0.3);
        }
        
        .team-card {
            background: linear-gradient(135deg, rgba(139, 69, 19, 0.1), rgba(75, 0, 130, 0.2));
            border: 2px solid rgba(255, 20, 147, 0.3);
            transition: all 0.3s ease;
        }
        
        .team-card:hover {
            border-color: rgba(255, 20, 147, 0.8);
            transform: translateY(-5px);
        }
        
        .player-animate {
            animation: playerDrop 0.8s ease-out forwards;
        }
        
        @keyframes playerDrop {
            0% {
                opacity: 0;
                transform: translateY(-50px) scale(0.8);
            }
            100% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
        
        .map-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(45deg, #ff1493, #00ff7f);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: black;
            font-size: 12px;
        }
        
        .valorant-bg {
            background: 
                radial-gradient(circle at 20% 80%, rgba(255, 20, 147, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(0, 255, 127, 0.1) 0%, transparent 50%),
                linear-gradient(135deg, #0a0a0a 0%, #1a0a1a 50%, #0a0a0a 100%);
        }
    </style>
</head>
<body class="valorant-bg min-h-screen text-white">
    <div class="container mx-auto px-4 py-8">
        <!-- Header -->
        <div class="text-center mb-12">
            <h1 class="text-6xl font-black text-transparent bg-clip-text bg-gradient-to-r from-pink-500 to-green-400 mb-4">
                VALORANT 10 MANS
            </h1>
            <p class="text-xl text-purple-300">Sorteador de Equipos Competitivo</p>
        </div>

        <!-- Sección Agregar Jugadores -->
        <div class="bg-black/50 backdrop-blur-sm rounded-2xl p-8 mb-8 border border-purple-500/30">
            <h2 class="text-3xl font-bold text-pink-400 mb-6">
                Agregar Jugadores
            </h2>
            
            <div class="flex gap-4 mb-6">
                <input 
                    type="text" 
                    id="playerInput" 
                    placeholder="Nombre del jugador..."
                    class="flex-1 bg-gray-900/80 border-2 border-purple-500/50 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:border-pink-500 focus:outline-none transition-colors"
                    onkeypress="handleEnter(event)"
                >
                <button 
                    onclick="addPlayer()" 
                    class="bg-gradient-to-r from-pink-600 to-purple-600 hover:from-pink-700 hover:to-purple-700 px-8 py-3 rounded-lg font-bold transition-all neon-glow"
                >
                    AGREGAR
                </button>
            </div>
            
            <div class="mb-4">
                <span class="text-green-400 font-bold">Jugadores: <span id="playerCount">0</span></span>
            </div>
            
            <div id="playersList" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3">
                <!-- Jugadores aparecerán aquí -->
            </div>
        </div>

        <!-- Sección Configuración -->
        <div class="bg-black/50 backdrop-blur-sm rounded-2xl p-8 mb-8 border border-purple-500/30">
            <h2 class="text-3xl font-bold text-green-400 mb-6">
                Configuración de Mapas
            </h2>
            
            <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 mb-8">
                <label class="flex items-center space-x-3 cursor-pointer p-3 rounded-lg bg-gray-900/50 hover:bg-gray-800/50 transition-colors">
                    <input type="checkbox" class="map-checkbox" value="Bind" checked>
                    <div class="map-icon">BI</div>
                    <span>Bind</span>
                </label>
                <label class="flex items-center space-x-3 cursor-pointer p-3 rounded-lg bg-gray-900/50 hover:bg-gray-800/50 transition-colors">
                    <input type="checkbox" class="map-checkbox" value="Haven" checked>
                    <div class="map-icon">HA</div>
                    <span>Haven</span>
                </label>
                <label class="flex items-center space-x-3 cursor-pointer p-3 rounded-lg bg-gray-900/50 hover:bg-gray-800/50 transition-colors">
                    <input type="checkbox" class="map-checkbox" value="Split" checked>
                    <div class="map-icon">SP</div>
                    <span>Split</span>
                </label>
                <label class="flex items-center space-x-3 cursor-pointer p-3 rounded-lg bg-gray-900/50 hover:bg-gray-800/50 transition-colors">
                    <input type="checkbox" class="map-checkbox" value="Ascent" checked>
                    <div class="map-icon">AS</div>
                    <span>Ascent</span>
                </label>
                <label class="flex items-center space-x-3 cursor-pointer p-3 rounded-lg bg-gray-900/50 hover:bg-gray-800/50 transition-colors">
                    <input type="checkbox" class="map-checkbox" value="Icebox" checked>
                    <div class="map-icon">IC</div>
                    <span>Icebox</span>
                </label>
                <label class="flex items-center space-x-3 cursor-pointer p-3 rounded-lg bg-gray-900/50 hover:bg-gray-800/50 transition-colors">
                    <input type="checkbox" class="map-checkbox" value="Breeze" checked>
                    <div class="map-icon">BR</div>
                    <span>Breeze</span>
                </label>
                <label class="flex items-center space-x-3 cursor-pointer p-3 rounded-lg bg-gray-900/50 hover:bg-gray-800/50 transition-colors">
                    <input type="checkbox" class="map-checkbox" value="Fracture" checked>
                    <div class="map-icon">FR</div>
                    <span>Fracture</span>
                </label>
                <label class="flex items-center space-x-3 cursor-pointer p-3 rounded-lg bg-gray-900/50 hover:bg-gray-800/50 transition-colors">
                    <input type="checkbox" class="map-checkbox" value="Pearl" checked>
                    <div class="map-icon">PE</div>
                    <span>Pearl</span>
                </label>
                <label class="flex items-center space-x-3 cursor-pointer p-3 rounded-lg bg-gray-900/50 hover:bg-gray-800/50 transition-colors">
                    <input type="checkbox" class="map-checkbox" value="Lotus" checked>
                    <div class="map-icon">LO</div>
                    <span>Lotus</span>
                </label>
                <label class="flex items-center space-x-3 cursor-pointer p-3 rounded-lg bg-gray-900/50 hover:bg-gray-800/50 transition-colors">
                    <input type="checkbox" class="map-checkbox" value="Sunset" checked>
                    <div class="map-icon">SU</div>
                    <span>Sunset</span>
                </label>
                <label class="flex items-center space-x-3 cursor-pointer p-3 rounded-lg bg-gray-900/50 hover:bg-gray-800/50 transition-colors">
                    <input type="checkbox" class="map-checkbox" value="Abyss" checked>
                    <div class="map-icon">AB</div>
                    <span>Abyss</span>
                </label>
                <label class="flex items-center space-x-3 cursor-pointer p-3 rounded-lg bg-gray-900/50 hover:bg-gray-800/50 transition-colors">
                    <input type="checkbox" class="map-checkbox" value="Corrode" checked>
                    <div class="map-icon">CO</div>
                    <span>Corrode</span>
                </label>
            </div>
            
            <div class="text-center">
                <button 
                    onclick="generateDraw()" 
                    id="generateBtn"
                    class="bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600 px-12 py-4 rounded-xl font-black text-xl transition-all neon-green transform hover:scale-105"
                >
                    GENERAR SORTEO
                </button>
            </div>
        </div>

        <!-- Resultados -->
        <div id="resultsSection" class="hidden">
            <div class="bg-black/50 backdrop-blur-sm rounded-2xl p-8 border border-purple-500/30">
                <h2 class="text-3xl font-bold text-yellow-400 mb-8 text-center">
                    RESULTADOS DEL SORTEO
                </h2>
                
                <div id="resultsContent">
                    <!-- Los resultados aparecerán aquí -->
                </div>
                
                <div class="text-center mt-8">
                    <button 
                        onclick="copyResults()" 
                        class="bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-8 py-3 rounded-lg font-bold transition-all neon-glow"
                    >
                        COPIAR PARA DISCORD
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let players = [];
        let currentResults = '';

        function handleEnter(event) {
            if (event.key === 'Enter') addPlayer();
        }

        function addPlayer() {
            const input = document.getElementById('playerInput');
            const playerName = input.value.trim();
            if (!playerName) return;
            if (players.includes(playerName)) {
                alert('Este jugador ya está en la lista');
                return;
            }
            players.push(playerName);
            input.value = '';
            updatePlayersList();
        }

        function removePlayer(playerName) {
            players = players.filter(p => p !== playerName);
            updatePlayersList();
        }

        function updatePlayersList() {
            const playersList = document.getElementById('playersList');
            const playerCount = document.getElementById('playerCount');
            playerCount.textContent = players.length;
            playersList.innerHTML = players.map(player => `
                <div class="bg-gradient-to-r from-purple-900/50 to-pink-900/50 rounded-lg p-3 flex items-center justify-between border border-purple-500/30">
                    <span class="font-bold">${player}</span>
                    <button onclick="removePlayer('${player}')" class="text-red-400 hover:text-red-300 ml-2">✕</button>
                </div>
            `).join('');
        }

        function getSelectedMaps() {
            return Array.from(document.querySelectorAll('.map-checkbox:checked')).map(cb => cb.value);
        }

        function shuffleArray(array) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }

        function generateDraw() {
            if (players.length < 10) {
                alert('Se necesitan al menos 10 jugadores para generar el sorteo');
                return;
            }
            const selectedMaps = getSelectedMaps();
            if (!selectedMaps.length) { alert('Selecciona al menos un mapa'); return; }

            const shuffledPlayers = shuffleArray(players);
            const fullTeamsCount = Math.floor(shuffledPlayers.length / 10) * 10;
            const mainPlayers = shuffledPlayers.slice(0, fullTeamsCount);
            const leftoverPlayers = shuffledPlayers.slice(fullTeamsCount);

            const resultsSection = document.getElementById('resultsSection');
            const resultsContent = document.getElementById('resultsContent');
            resultsSection.classList.remove('hidden');

            let gamesHtml = '';
            let discordMessage = `**VALORANT ${players.length} MANS - SORTEO**\n\n`;

            for (let i = 0; i < mainPlayers.length / 10; i++) {
                const teamA = mainPlayers.slice(i*10, i*10+5);
                const teamB = mainPlayers.slice(i*10+5, i*10+10);
                const map = selectedMaps[Math.floor(Math.random()*selectedMaps.length)];
                const attackingTeam = Math.random() < 0.5 ? 'A' : 'B';

                gamesHtml += `
                <div class="border-2 border-purple-500/30 rounded-xl p-6">
                    <h3 class="text-2xl font-bold text-yellow-400 mb-4 text-center">
                        PARTIDA ${i+1} - ${map}
                    </h3>
                    <div class="grid md:grid-cols-2 gap-6">
                        <div class="team-card rounded-lg p-4 ${attackingTeam==='A'?'neon-glow':''}">
                            <h4 class="text-lg font-bold text-pink-400 mb-3 text-center">
                                TEAM A (${attackingTeam==='A'?'ATAQUE':'DEFENSA'})
                            </h4>
                            <div class="space-y-2">
                                ${teamA.map(p=>`<div class="bg-gray-800/50 rounded p-2 text-center font-bold">${p}</div>`).join('')}
                            </div>
                        </div>
                        <div class="team-card rounded-lg p-4 ${attackingTeam==='B'?'neon-glow':''}">
                            <h4 class="text-lg font-bold text-green-400 mb-3 text-center">
                                TEAM B (${attackingTeam==='B'?'ATAQUE':'DEFENSA'})
                            </h4>
                            <div class="space-y-2">
                                ${teamB.map(p=>`<div class="bg-gray-800/50 rounded p-2 text-center font-bold">${p}</div>`).join('')}
                            </div>
                        </div>
                    </div>
                </div>`;
                discordMessage += `**PARTIDA ${i+1}** | ${map}\nTeam A (${attackingTeam==='A'?'ATK':'DEF'}): ${teamA.join(', ')}\nTeam B (${attackingTeam==='B'?'ATK':'DEF'}): ${teamB.join(', ')}\n\n`;
            }

            if (leftoverPlayers.length) {
                gamesHtml += `
                <div class="border-2 border-red-500/50 rounded-xl p-6 bg-red-900/20">
                    <h3 class="text-2xl font-bold text-red-400 mb-4 text-center">
                        JUGADORES SOBRANTES
                    </h3>
                    <div class="text-center space-y-2">
                        ${shuffleArray(leftoverPlayers).map(p=>`<div class="bg-gray-800/50 rounded p-2 text-center font-bold">${p}</div>`).join('')}
                    </div>
                    <p class="text-red-300 mt-4 font-bold">Estos jugadores no jugarán en esta ronda.</p>
                </div>`;
                discordMessage += `**JUGADORES SOBRANTES:** ${leftoverPlayers.join(', ')}\n`;
            }

            resultsContent.innerHTML = `<div class="space-y-8">${gamesHtml}</div>`;
            currentResults = discordMessage.trim();
        }

        function copyResults() {
            navigator.clipboard.writeText(currentResults).then(()=>alert('¡Resultados copiados al portapapeles!'));
        }
    </script>
</body>
</html>
